# AI å¯¹è¯ + åŠ¨æ€å…³ç³»å›¾ Web åº”ç”¨

è¿™æ˜¯ä¸€ä¸ªé›†æˆäº†AIå¯¹è¯å’ŒåŠ¨æ€å…³ç³»å›¾å¯è§†åŒ–çš„ç°ä»£åŒ–Webåº”ç”¨ï¼Œé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œå®ç°äº†å·¦å³åˆ†æ å¸ƒå±€ï¼Œæä¾›æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒã€‚

## ğŸŒŸ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **AIæ™ºèƒ½å¯¹è¯**: åŸºäºDeepSeek APIçš„æµå¼å¯¹è¯
- **åŠ¨æ€å…³ç³»å›¾**: å®æ—¶ç”Ÿæˆæ¦‚å¿µå…³ç³»å¯è§†åŒ–å›¾è¡¨
- **æ‹–æ‹½äº¤äº’**: æ‹–æ‹½AIå›å¤æ¶ˆæ¯ç”Ÿæˆå…³ç³»å›¾
- **å¤šæ ¼å¼æ”¯æŒ**: å®Œæ•´çš„Markdownå’ŒLaTeXæ•°å­¦å…¬å¼æ¸²æŸ“
- **å¯¹è¯ç®¡ç†**: å¤šå¯¹è¯å†å²ä¿å­˜å’Œç®¡ç†
- **ä¸ªäººèµ„æ–™**: è‡ªå®šä¹‰ç”¨æˆ·ä¿¡æ¯å’Œå¤´åƒ

### äº¤äº’ç‰¹æ€§
- **æ— å»¶è¿Ÿæ‹–æ‹½**: ä¼˜åŒ–çš„åŠ›å¯¼å‘å¸ƒå±€ï¼ŒèŠ‚ç‚¹æ‹–æ‹½é›¶å»¶è¿Ÿå“åº”
- **æ¶ˆæ¯æ‹–æ‹½ç”Ÿå›¾**: æ‹–æ‹½AIå›å¤æ¶ˆæ¯åˆ°å³ä¾§å›¾è¡¨åŒºåŸŸç”ŸæˆåŠ¨æ€å…³ç³»å›¾
- **æ™ºèƒ½èŠ‚ç‚¹äº¤äº’**: ç‚¹å‡»èŠ‚ç‚¹å¼¹å‡ºæµ®åŠ¨è¾“å…¥æ¡†ï¼Œæ”¯æŒæ·±å…¥æé—®
- **æ¦‚å¿µå±‚çº§æå–**: è‡ªåŠ¨è¯†åˆ«æ–‡æœ¬ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’Œå±‚çº§å…³ç³»
- **å®æ—¶æµå¼æ˜¾ç¤º**: AIå›å¤å®æ—¶æ˜¾ç¤ºï¼Œå»¶è¿Ÿæ¸²æŸ“ä¼˜åŒ–æ€§èƒ½

## ğŸ“ é¡¹ç›®ç»“æ„

```
Codebug/
â”œâ”€â”€ index.html          # ä¸»å…¥å£æ–‡ä»¶ - å®Œæ•´çš„HTMLç»“æ„
â”œâ”€â”€ css/                # æ ·å¼æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ main.css       # ä¸»è¦å¸ƒå±€å’ŒUIæ ·å¼
â”‚   â”œâ”€â”€ graph.css      # å›¾è¡¨ä¸“ç”¨æ ·å¼  
â”‚   â””â”€â”€ modal.css      # æ¨¡æ€æ¡†æ ·å¼
â”œâ”€â”€ js/                 # JavaScriptæ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ app.js         # åº”ç”¨æ ¸å¿ƒé€»è¾‘
â”‚   â””â”€â”€ graph.js       # å›¾è¡¨æ¸²æŸ“å’Œäº¤äº’
â”œâ”€â”€ assets/             # èµ„æºæ–‡ä»¶å¤¹
â””â”€â”€ README.md          # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### 1. æ¨¡å—åŒ–è®¾è®¡
é¡¹ç›®é‡‡ç”¨æ¸…æ™°çš„æ¨¡å—åŒ–æ¶æ„ï¼ŒèŒè´£åˆ†ç¦»ï¼š

- **index.html**: ç»“æ„å±‚ï¼Œå®šä¹‰å®Œæ•´çš„DOMç»“æ„
- **css/main.css**: è¡¨ç°å±‚ï¼Œè´Ÿè´£å¸ƒå±€ã€UIç»„ä»¶å’Œäº¤äº’æ ·å¼
- **css/graph.css**: å›¾è¡¨ä¸“ç”¨æ ·å¼ï¼ŒåŒ…å«D3.jså¯è§†åŒ–å…ƒç´ æ ·å¼
- **css/modal.css**: æ¨¡æ€æ¡†ç»„ä»¶æ ·å¼
- **js/app.js**: é€»è¾‘å±‚ï¼Œå¤„ç†åº”ç”¨æ ¸å¿ƒåŠŸèƒ½
- **js/graph.js**: å¯è§†åŒ–å±‚ï¼Œä¸“é—¨å¤„ç†D3.jså›¾è¡¨é€»è¾‘

### 2. ç»„ä»¶åŒ–å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸»å®¹å™¨ (.main-container)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   å·¦ä¾§è¾¹æ        â”‚              ä¸»å†…å®¹åŒº                      â”‚
â”‚ (.sidebar)      â”‚         (.content-area)                   â”‚
â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - ç”¨æˆ·ä¿¡æ¯       â”‚   èŠå¤©ç•Œé¢     â”‚      åŠ¨æ€å›¾è¡¨é¢æ¿          â”‚
â”‚ - å¯¹è¯å†å²       â”‚ (.chat-panel) â”‚   (.graph-panel)          â”‚
â”‚ - æ–°å»ºå¯¹è¯       â”‚               â”‚                           â”‚
â”‚                 â”‚ - èŠå¤©å¤´éƒ¨     â”‚ - D3.jsåŠ›å¯¼å‘å›¾           â”‚
â”‚                 â”‚ - æ¶ˆæ¯åŒºåŸŸ     â”‚ - èŠ‚ç‚¹æ‹–æ‹½äº¤äº’            â”‚
â”‚                 â”‚ - è¾“å…¥æ¡†      â”‚ - æµ®åŠ¨è¾“å…¥æ¡†              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» æ ¸å¿ƒä»£ç é€»è¾‘è¯¦è§£

### 1. åº”ç”¨åˆå§‹åŒ– (app.js)

```javascript
document.addEventListener('DOMContentLoaded', function() {
    // 1. æ•°æ®å±‚åˆå§‹åŒ–
    loadConversations();        // åŠ è½½æœ¬åœ°å­˜å‚¨çš„å¯¹è¯å†å²
    loadCurrentConversation();  // æ¢å¤å½“å‰å¯¹è¯çŠ¶æ€
    loadUserProfile();         // åŠ è½½ç”¨æˆ·ä¸ªäººèµ„æ–™
    
    // 2. äº‹ä»¶ç»‘å®š
    setupEventListeners();     // ç»‘å®šå‘é€æŒ‰é’®å’Œå›è½¦é”®äº‹ä»¶
    setupGraphDropZone();      // è®¾ç½®æ‹–æ‹½ç›®æ ‡åŒºåŸŸ
    
    // 3. UIç»„ä»¶åˆå§‹åŒ–
    initializeGraph();         // åˆå§‹åŒ–D3.jså›¾è¡¨å®¹å™¨
});
```

### 2. æ¶ˆæ¯å¤„ç†æµç¨‹

#### å‘é€æ¶ˆæ¯ (`sendMessage` å‡½æ•°)
```javascript
async function sendMessage(messageText = null) {
    // 1. è¾“å…¥éªŒè¯å’Œé¢„å¤„ç†
    const message = messageText || document.getElementById('userInput').value.trim();
    if (!message) return;
    
    // 2. UIçŠ¶æ€æ›´æ–°
    displayMessage(message, 'user');          // æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯
    showLoading();                           // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
    clearInput();                           // æ¸…ç©ºè¾“å…¥æ¡†
    
    // 3. è°ƒç”¨AI API (æµå¼å“åº”)
    const response = await callDeepSeekAPI(message);
    
    // 4. æµå¼æ•°æ®å¤„ç†
    const reader = response.body.getReader();
    let fullResponse = '';
    
    while (!done) {
        const chunk = await reader.read();
        // å®æ—¶æ›´æ–°æ˜¾ç¤ºï¼Œå»¶è¿Ÿæ¸²æŸ“ä¼˜åŒ–æ€§èƒ½
        updateStreamingDisplay(chunk);
        fullResponse += parseChunk(chunk);
    }
    
    // 5. åå¤„ç†
    renderFinalContent(fullResponse);        // æœ€ç»ˆå†…å®¹æ¸²æŸ“
    saveToConversation(fullResponse);        // ä¿å­˜åˆ°å¯¹è¯å†å²
    generateExampleGraph(fullResponse);      // ç”ŸæˆåŠ¨æ€å…³ç³»å›¾
}
```

#### æ¶ˆæ¯åˆ›å»º (`createMessageElement` å‡½æ•°)
```javascript
function createMessageElement(content, role, timestamp) {
    // 1. åŸºç¡€DOMç»“æ„åˆ›å»º
    const messageDiv = document.createElement('div');
    messageDiv.className = `message ${role}`;
    
    // 2. AIæ¶ˆæ¯ç‰¹æ®Šå¤„ç† - æ·»åŠ æ‹–æ‹½åŠŸèƒ½
    if (role === 'assistant') {
        const messageContent = messageDiv.querySelector('.message-content');
        
        // å­˜å‚¨åŸå§‹å†…å®¹ç”¨äºå›¾è¡¨ç”Ÿæˆ
        messageContent.dataset.originalContent = content;
        messageContent.draggable = true;
        
        // ç»‘å®šæ‹–æ‹½äº‹ä»¶
        messageContent.addEventListener('dragstart', handleDragStart);
        messageContent.addEventListener('dragend', handleDragEnd);
        
        // è§†è§‰æç¤º
        messageContent.style.cursor = 'grab';
        messageContent.title = 'æ‹–æ‹½åˆ°å³ä¾§ç”ŸæˆåŠ¨æ€å…³ç³»å›¾';
    }
    
    // 3. å†…å®¹æ¸²æŸ“
    const renderedContent = role === 'assistant' ? 
        renderMarkdown(content) : escapeHtml(content);
    
    // 4. å»¶è¿Ÿæ¸²æŸ“æ•°å­¦å…¬å¼å’Œä»£ç é«˜äº®
    setTimeout(() => {
        renderMathJax(messageDiv);
        highlightCode(messageDiv);
    }, 100);
    
    return messageDiv;
}
```

### 3. æ‹–æ‹½äº¤äº’ç³»ç»Ÿ

#### æ‹–æ‹½å¼€å§‹ (`handleDragStart`)
```javascript
function handleDragStart(e) {
    // 1. æ•°æ®å‡†å¤‡
    draggedContent = e.target.dataset.originalContent;
    e.dataTransfer.setData('text/plain', draggedContent);
    
    // 2. è§†è§‰åé¦ˆ
    e.target.style.opacity = '0.7';
    e.target.style.cursor = 'grabbing';
    
    // 3. ç›®æ ‡åŒºåŸŸé«˜äº®
    const graphPanel = document.querySelector('.graph-panel');
    graphPanel.classList.add('drag-target');  // è§¦å‘CSSåŠ¨ç”»å’Œæç¤º
}
```

#### æ‹–æ‹½ç›®æ ‡å¤„ç† (`setupGraphDropZone`)
```javascript
function setupGraphDropZone() {
    const graphPanel = document.querySelector('.graph-panel');
    
    // æ‹–æ‹½æ‚¬åœå¤„ç†
    graphPanel.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.dataTransfer.dropEffect = 'copy';
    });
    
    // æ‹–æ‹½é‡Šæ”¾å¤„ç†
    graphPanel.addEventListener('drop', (e) => {
        e.preventDefault();
        const content = e.dataTransfer.getData('text/plain');
        
        if (content && content.trim()) {
            generateGraphFromContent(content);  // æ ¸å¿ƒï¼šç”Ÿæˆå›¾è¡¨
            showDropNotification('åŠ¨æ€å…³ç³»å›¾å·²ç”Ÿæˆï¼');
        }
    });
}
```

### 4. åŠ¨æ€å›¾è¡¨ç³»ç»Ÿ (graph.js)

#### æ¦‚å¿µæå–ç®—æ³• (`extractConceptsHierarchy`)
```javascript
function extractConceptsHierarchy(text) {
    // 1. æ–‡æœ¬é¢„å¤„ç†
    const cleanText = text.replace(/```[\s\S]*?```/g, '')  // ç§»é™¤ä»£ç å—
                         .replace(/\$\$[\s\S]*?\$\$/g, '') // ç§»é™¤æ•°å­¦å…¬å¼
                         .replace(/[^\u4e00-\u9fa5a-zA-Z0-9\s]/g, ' ');
    
    // 2. æ ¸å¿ƒæ¦‚å¿µè¯†åˆ« (ä¸€çº§èŠ‚ç‚¹)
    const corePatterns = [
        /(?:ä»€ä¹ˆæ˜¯|ä»‹ç»ä¸€ä¸‹|è§£é‡Šä¸€ä¸‹|æ¦‚å¿µ|å®šä¹‰)([^ã€‚ï¼ï¼Ÿ\n]{2,20})/g,
        /([A-Z][a-zA-Z]+(?:\s+[A-Z][a-zA-Z]+)*)/g,  // è‹±æ–‡æœ¯è¯­
        /([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+[ã€.][\s]*([^ã€‚ï¼ï¼Ÿ\n]{2,15}))/g
    ];
    
    const coreNodes = new Set();
    corePatterns.forEach(pattern => {
        let match;
        while ((match = pattern.exec(cleanText)) !== null) {
            const concept = match[1] || match[2];
            if (concept && isValidConcept(concept)) {
                coreNodes.add(concept.trim());
            }
        }
    });
    
    // 3. å±‚çº§å…³ç³»å»ºç«‹
    const secondaryNodes = extractSecondaryNodes(cleanText, coreNodes);
    const applicationNodes = extractApplicationNodes(cleanText, coreNodes);
    
    // 4. æ•°æ®ç»“æ„æ„å»º
    return buildGraphData(coreNodes, secondaryNodes, applicationNodes);
}
```

#### åŠ›å¯¼å‘å›¾æ¸²æŸ“ (`updateGraph`)
```javascript
function updateGraph(graphData) {
    // 1. SVGå®¹å™¨å‡†å¤‡
    const container = d3.select("#graph-container");
    container.selectAll("*").remove();  // æ¸…ç©ºæ—§å›¾è¡¨
    
    const svg = container.append("svg")
                        .attr("width", width)
                        .attr("height", height);
    
    // 2. åŠ›å¯¼å‘æ¨¡æ‹Ÿå™¨è®¾ç½®
    const simulation = d3.forceSimulation(graphData.nodes)
        .force("link", d3.forceLink(graphData.links)
                        .id(d => d.id)
                        .distance(d => getLinkDistance(d)))
        .force("charge", d3.forceManyBody()
                          .strength(d => getNodeCharge(d)))
        .force("center", d3.forceCenter(width / 2, height / 2))
        .force("collision", d3.forceCollide()
                             .radius(d => (d.size || 10) + 5));
    
    // 3. è¿æ¥çº¿æ¸²æŸ“
    const link = svg.append("g")
                   .selectAll("line")
                   .data(graphData.links)
                   .join("line")
                   .attr("class", "link")
                   .style("stroke-width", d => Math.sqrt(d.value || 1) * 1.5)
                   .style("opacity", d => getLinkOpacity(d.type));
    
    // 4. èŠ‚ç‚¹ç»„åˆ›å»º
    const node = svg.append("g")
                   .selectAll("g")
                   .data(graphData.nodes)
                   .join("g")
                   .attr("class", "node")
                   .call(d3.drag()  // æ‹–æ‹½è¡Œä¸ºç»‘å®š
                         .on("start", dragstarted)
                         .on("drag", dragged)
                         .on("end", dragended));
    
    // 5. èŠ‚ç‚¹åœ†åœˆ
    const circles = node.append("circle")
                       .attr("r", 0)  // åˆå§‹å¤§å°ä¸º0ï¼Œç”¨äºåŠ¨ç”»
                       .attr("fill", d => getNodeColor(d))
                       .attr("stroke", d => getNodeStroke(d))
                       .on("click", handleNodeClick)
                       .on("mouseenter", handleNodeHover)
                       .on("mouseleave", handleNodeLeave);
    
    // 6. èŠ‚ç‚¹æ ‡ç­¾
    const labels = node.append("text")
                      .attr("dx", d => (d.size || 10) + 8)
                      .attr("dy", ".35em")
                      .text(d => d.id)
                      .style("font-size", d => `${Math.max(10, (d.size || 10) * 0.5)}px`);
    
    // 7. åŠ¨ç”»æ•ˆæœ
    circles.transition()
           .duration(800)
           .attr("r", d => d.size || 10)
           .ease(d3.easeElastic);
    
    // 8. æ¨¡æ‹Ÿæ›´æ–°å›è°ƒ
    simulation.on("tick", () => {
        // è¾¹ç•Œçº¦æŸ
        graphData.nodes.forEach(d => {
            d.x = Math.max(margin, Math.min(width - margin, d.x));
            d.y = Math.max(margin, Math.min(height - margin, d.y));
        });
        
        // ä½ç½®æ›´æ–°
        link.attr("x1", d => d.source.x)
            .attr("y1", d => d.source.y)
            .attr("x2", d => d.target.x)
            .attr("y2", d => d.target.y);
        
        node.attr("transform", d => `translate(${d.x},${d.y})`);
    });
}
```

#### æ— å»¶è¿Ÿæ‹–æ‹½ç³»ç»Ÿ
```javascript
function dragstarted(event, d) {
    // å…³é”®ï¼šç«‹å³åœæ­¢æ¨¡æ‹Ÿï¼Œæ¶ˆé™¤å»¶è¿Ÿ
    simulation.stop();
    d.fx = d.x;
    d.fy = d.y;
    
    // è§†è§‰åé¦ˆ
    d3.select(this).classed("dragging", true)
                   .select("circle")
                   .attr("r", (d.size || 10) * 1.1)
                   .style("filter", "drop-shadow(4px 4px 8px rgba(124, 58, 237, 0.4))");
}

function dragged(event, d) {
    // å…³é”®ï¼šç«‹å³æ›´æ–°ä½ç½®ï¼Œæ— ç¼“å†²
    d.fx = event.x;
    d.fy = event.y;
    d.x = d.fx;  // åŒæ­¥æ›´æ–°å®é™…ä½ç½®
    d.y = d.fy;
    
    // ç«‹å³æ›´æ–°æ‰€æœ‰ç›¸å…³è¿æ¥çº¿
    link.filter(l => l.source === d || l.target === d)
        .attr("x1", l => l.source.x)
        .attr("y1", l => l.source.y)
        .attr("x2", l => l.target.x)
        .attr("y2", l => l.target.y);
    
    // ç«‹å³æ›´æ–°èŠ‚ç‚¹ç»„ä½ç½®
    d3.select(this).attr("transform", `translate(${d.x},${d.y})`);
}

function dragended(event, d) {
    // çŸ­æš‚å»¶è¿Ÿåé‡æ–°å¯åŠ¨æ¨¡æ‹Ÿ
    setTimeout(() => {
        d.fx = null;
        d.fy = null;
        simulation.alpha(0.1).restart();
    }, 300);
}
```

### 5. Markdownå’ŒLaTeXæ¸²æŸ“ç³»ç»Ÿ

#### Markdownæ¸²æŸ“ (`renderMarkdown`)
```javascript
function renderMarkdown(content) {
    // 1. é¢„å¤„ç†LaTeXå…¬å¼ï¼Œé˜²æ­¢è¢«Markdownç ´å
    const processedContent = content
        .replace(/\$\$([\s\S]*?)\$\$/g, (match, formula) => {
            return `<div class="math-display">$$${formula}$$</div>`;
        })
        .replace(/\$([^$\n]+?)\$/g, (match, formula) => {
            return `<span class="math-inline">$${formula}$</span>`;
        });
    
    // 2. é…ç½®Markedé€‰é¡¹
    marked.setOptions({
        gfm: true,           // GitHubé£æ ¼Markdown
        breaks: true,        // æ”¯æŒæ¢è¡Œ
        highlight: function(code, lang) {
            // ä»£ç é«˜äº®é›†æˆ
            if (lang && window.Prism && window.Prism.languages[lang]) {
                return window.Prism.highlight(code, window.Prism.languages[lang], lang);
            }
            return code;
        }
    });
    
    // 3. æ¸²æŸ“å¹¶ä¼˜åŒ–è¡¨æ ¼
    let html = marked.parse(processedContent);
    html = html.replace(/<table>/g, '<div class="table-wrapper"><table>');
    html = html.replace(/<\/table>/g, '</table></div>');
    
    return html;
}
```

#### æµå¼æ¸²æŸ“ä¼˜åŒ–
```javascript
// åœ¨sendMessageä¸­çš„æµå¼å¤„ç†
while (true) {
    const { done, value } = await reader.read();
    if (done) break;
    
    const content = parseStreamChunk(value);
    fullResponse += content;
    
    // å®æ—¶æ˜¾ç¤ºåŸå§‹æ–‡æœ¬ï¼Œé¿å…é¢‘ç¹Markdownæ¸²æŸ“
    streamingDiv.innerHTML = `<pre class="streaming-text">${escapeHtml(fullResponse)}</pre>`;
    
    // å»¶è¿Ÿæ¸²æŸ“Markdownï¼Œå‡å°‘æ€§èƒ½å¼€é”€
    clearTimeout(renderTimeout);
    renderTimeout = setTimeout(() => {
        streamingDiv.innerHTML = renderMarkdown(fullResponse);
        renderMathJax(streamingDiv);
        highlightCode(streamingDiv);
    }, 300);
}
```

### 6. æ•°æ®æŒä¹…åŒ–ç³»ç»Ÿ

#### å¯¹è¯æ•°æ®ç»“æ„
```javascript
const conversationSchema = {
    id: "å”¯ä¸€æ ‡è¯†ç¬¦",
    title: "å¯¹è¯æ ‡é¢˜",
    messages: [
        {
            role: "user|assistant",
            content: "æ¶ˆæ¯å†…å®¹",
            timestamp: "ISOæ—¶é—´æˆ³"
        }
    ],
    createdAt: "åˆ›å»ºæ—¶é—´",
    updatedAt: "æ›´æ–°æ—¶é—´"
};
```

#### æœ¬åœ°å­˜å‚¨ç®¡ç†
```javascript
function saveConversations() {
    try {
        localStorage.setItem('conversations', JSON.stringify(conversations));
        localStorage.setItem('currentConversationId', currentConversationId);
    } catch (error) {
        console.error('ä¿å­˜å¯¹è¯å¤±è´¥:', error);
    }
}

function loadConversations() {
    try {
        const saved = localStorage.getItem('conversations');
        conversations = saved ? JSON.parse(saved) : [];
        currentConversationId = localStorage.getItem('currentConversationId');
    } catch (error) {
        console.error('åŠ è½½å¯¹è¯å¤±è´¥:', error);
        conversations = [];
    }
}
```

## ğŸ¨ æ ·å¼è®¾è®¡ç³»ç»Ÿ

### 1. CSSå˜é‡ç³»ç»Ÿ
```css
:root {
    /* ä¸»é¢˜è‰²å½© */
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%);
    
    /* å¸ƒå±€å‚æ•° */
    --sidebar-width: 280px;
    --header-height: 60px;
    --border-radius: 12px;
    
    /* è¿‡æ¸¡æ•ˆæœ */
    --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --transition-bounce: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}
```

### 2. å“åº”å¼è®¾è®¡
```css
/* ç§»åŠ¨è®¾å¤‡é€‚é… */
@media (max-width: 768px) {
    .main-container {
        flex-direction: column;
    }
    
    .sidebar {
        width: 100%;
        height: auto;
        position: static;
    }
    
    .content-area {
        flex-direction: column;
    }
    
    .chat-panel, .graph-panel {
        width: 100%;
        min-height: 400px;
    }
}
```

### 3. åŠ¨ç”»ç³»ç»Ÿ
```css
/* èŠ‚ç‚¹åŠ¨ç”» */
@keyframes nodeEntry {
    from {
        transform: scale(0);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* æ¶ˆæ¯æ°”æ³¡åŠ¨ç”» */
.message {
    animation: messageSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    transform-origin: left center;
}

@keyframes messageSlideIn {
    from {
        opacity: 0;
        transform: translateX(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateX(0) scale(1);
    }
}
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. å¿«é€Ÿå¼€å§‹
```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd Codebug

# 3. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ (æ¨è)
python -m http.server 8000
# æˆ–è€…ä½¿ç”¨Node.js
npx serve .

# 4. æ‰“å¼€æµè§ˆå™¨è®¿é—®
http://localhost:8000
```

### 2. é…ç½®APIå¯†é’¥
åœ¨`js/app.js`ä¸­æ‰¾åˆ°APIé…ç½®éƒ¨åˆ†ï¼š
```javascript
const API_CONFIG = {
    endpoint: 'https://api.deepseek.com/v1/chat/completions',
    apiKey: 'YOUR_API_KEY_HERE',  // æ›¿æ¢ä¸ºä½ çš„DeepSeek APIå¯†é’¥
    model: 'deepseek-chat'
};
```

### 3. åŸºç¡€ä½¿ç”¨
1. **å‘é€æ¶ˆæ¯**: åœ¨è¾“å…¥æ¡†è¾“å…¥é—®é¢˜ï¼ŒæŒ‰å›è½¦æˆ–ç‚¹å‡»å‘é€
2. **æŸ¥çœ‹åŠ¨æ€å›¾**: AIå›å¤åå³ä¾§è‡ªåŠ¨ç”Ÿæˆå…³ç³»å›¾
3. **æ‹–æ‹½äº¤äº’**: æ‹–æ‹½AIæ¶ˆæ¯åˆ°å³ä¾§ç”Ÿæˆæ–°çš„å…³ç³»å›¾
4. **èŠ‚ç‚¹äº¤äº’**: ç‚¹å‡»å›¾è¡¨èŠ‚ç‚¹å¼¹å‡ºè¾“å…¥æ¡†è¿›è¡Œæ·±å…¥æé—®
5. **å¯¹è¯ç®¡ç†**: å·¦ä¾§è¾¹æ ç®¡ç†å¤šä¸ªå¯¹è¯å†å²

### 4. é«˜çº§åŠŸèƒ½

#### 4.1 æ‹–æ‹½ç”ŸæˆåŠ¨æ€å›¾
- **æ‹–æ‹½æç¤º**: AIæ¶ˆæ¯å†…å®¹å¯æ‹–æ‹½ï¼Œé¼ æ ‡æ‚¬åœæ˜¾ç¤ºæŠ“æ‰‹å›¾æ ‡
- **ç›®æ ‡åŒºåŸŸ**: æ‹–æ‹½åˆ°å³ä¾§å›¾è¡¨åŒºåŸŸæ—¶æ˜¾ç¤ºé«˜äº®æç¤º
- **å®æ—¶ç”Ÿæˆ**: é‡Šæ”¾é¼ æ ‡åç«‹å³æ ¹æ®æ¶ˆæ¯å†…å®¹ç”Ÿæˆä¸“å±å…³ç³»å›¾
- **æˆåŠŸåé¦ˆ**: ç”Ÿæˆå®Œæˆåæ˜¾ç¤ºé€šçŸ¥æç¤º

#### 4.2 æ— å»¶è¿ŸèŠ‚ç‚¹æ‹–æ‹½
- **å³æ—¶å“åº”**: èŠ‚ç‚¹æ‹–æ‹½æ—¶ç«‹å³åœæ­¢åŠ›å¯¼å‘æ¨¡æ‹Ÿ
- **åŒæ­¥æ›´æ–°**: æ‹–æ‹½è¿‡ç¨‹ä¸­è¿æ¥çº¿å®æ—¶è·ŸéšèŠ‚ç‚¹ç§»åŠ¨
- **è¾¹ç•Œçº¦æŸ**: èŠ‚ç‚¹ä¸ä¼šè¢«æ‹–å‡ºç”»å¸ƒè¾¹ç•Œ
- **è‡ªç„¶å›å¼¹**: é‡Šæ”¾åçŸ­æš‚å»¶è¿Ÿé‡æ–°å¯åŠ¨ç‰©ç†æ¨¡æ‹Ÿ

#### 4.3 å¤šæ ¼å¼å†…å®¹æ”¯æŒ
- **Markdownæ¸²æŸ“**: å®Œæ•´æ”¯æŒGitHubé£æ ¼Markdown
- **LaTeXæ•°å­¦å…¬å¼**: æ”¯æŒè¡Œå†…`$å…¬å¼$`å’Œå—çº§`$$å…¬å¼$$`
- **ä»£ç é«˜äº®**: è‡ªåŠ¨è¯†åˆ«è¯­è¨€å¹¶è¿›è¡Œè¯­æ³•é«˜äº®
- **è¡¨æ ¼ä¼˜åŒ–**: ç¾è§‚çš„è¡¨æ ¼æ ·å¼å’Œå“åº”å¼å¸ƒå±€

## ğŸš€ æŠ€æœ¯æ ˆ

### å‰ç«¯æ¡†æ¶
- **åŸç”ŸJavaScript ES6+**: æ ¸å¿ƒé€»è¾‘å®ç°
- **D3.js v7**: æ•°æ®å¯è§†åŒ–å’ŒåŠ›å¯¼å‘å›¾
- **Marked.js**: Markdownæ¸²æŸ“
- **MathJax 3**: LaTeXæ•°å­¦å…¬å¼æ¸²æŸ“
- **Prism.js**: ä»£ç è¯­æ³•é«˜äº®

### æ ·å¼æŠ€æœ¯
- **CSS3 ç°ä»£ç‰¹æ€§**: Grid, Flexbox, CSSå˜é‡
- **æ¸å˜å’ŒåŠ¨ç”»**: ä¸°å¯Œçš„è§†è§‰æ•ˆæœ
- **å“åº”å¼è®¾è®¡**: ç§»åŠ¨è®¾å¤‡å‹å¥½

### APIé›†æˆ
- **DeepSeek API**: æµå¼AIå¯¹è¯
- **Fetch API**: ç°ä»£HTTPè¯·æ±‚
- **Streamå¤„ç†**: å®æ—¶æ•°æ®æµè§£æ

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. æ¸²æŸ“ä¼˜åŒ–
- **å»¶è¿Ÿæ¸²æŸ“**: Markdownå’ŒLaTeXå»¶è¿Ÿ300msæ¸²æŸ“
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§é‡æ¶ˆæ¯æ—¶çš„æ»šåŠ¨ä¼˜åŒ–
- **èŠ‚æµå’Œé˜²æŠ–**: äº‹ä»¶å¤„ç†ä¼˜åŒ–

### 2. å†…å­˜ç®¡ç†
- **DOMå›æ”¶**: åŠæ—¶æ¸…ç†ä¸éœ€è¦çš„DOMå…ƒç´ 
- **äº‹ä»¶æ¸…ç†**: ç»„ä»¶é”€æ¯æ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨
- **å›¾è¡¨é‡ç”¨**: D3.jså›¾è¡¨å®¹å™¨é‡ç”¨æœºåˆ¶

### 3. äº¤äº’ä¼˜åŒ–
- **æ— å»¶è¿Ÿæ‹–æ‹½**: æš‚åœåŠ›å¯¼å‘æ¨¡æ‹Ÿå®ç°å³æ—¶å“åº”
- **å¹³æ»‘åŠ¨ç”»**: ä½¿ç”¨easingå‡½æ•°åˆ›é€ è‡ªç„¶çš„åŠ¨ç”»æ•ˆæœ
- **è§†è§‰åé¦ˆ**: åŠæ—¶çš„ç”¨æˆ·æ“ä½œåé¦ˆ

## ğŸ› è°ƒè¯•æŒ‡å—

### 1. å¸¸è§é—®é¢˜
- **APIè°ƒç”¨å¤±è´¥**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’ŒAPIå¯†é’¥
- **å›¾è¡¨ä¸æ˜¾ç¤º**: ç¡®è®¤D3.jsåº“æ­£ç¡®åŠ è½½
- **æ•°å­¦å…¬å¼ä¸æ¸²æŸ“**: æ£€æŸ¥MathJaxé…ç½®å’Œç½‘ç»œè®¿é—®

### 2. å¼€å‘è€…å·¥å…·
- **æ§åˆ¶å°æ—¥å¿—**: è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯è¾“å‡º
- **æ€§èƒ½ç›‘æ§**: Networkå’ŒPerformanceé¢æ¿ç›‘æ§
- **æœ¬åœ°å­˜å‚¨**: Applicationé¢æ¿æŸ¥çœ‹localStorageæ•°æ®

### 3. é”™è¯¯å¤„ç†
```javascript
// å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶
try {
    await callDeepSeekAPI(message);
} catch (error) {
    console.error('APIè°ƒç”¨é”™è¯¯:', error);
    displayErrorMessage('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®');
    hideLoading();
}
```

## ğŸ“‹ æ›´æ–°æ—¥å¿—

### v2.1.0 (æœ€æ–°)
- âœ… **æ— å»¶è¿Ÿæ‹–æ‹½ä¼˜åŒ–**: é‡å†™æ‹–æ‹½ç³»ç»Ÿï¼Œå®ç°é›¶å»¶è¿ŸèŠ‚ç‚¹æ‹–æ‹½
- âœ… **æ¶ˆæ¯æ‹–æ‹½ç”Ÿå›¾**: æ–°å¢æ‹–æ‹½AIæ¶ˆæ¯åˆ°å›¾è¡¨åŒºåŸŸç”ŸæˆåŠ¨æ€å…³ç³»å›¾åŠŸèƒ½  
- âœ… **ç•Œé¢ç®€åŒ–**: ç§»é™¤å³ä¸Šè§’åŠŸèƒ½æŒ‰é’®ï¼Œç®€åŒ–ç•Œé¢å¸ƒå±€
- âœ… **æ€§èƒ½ä¼˜åŒ–**: ä¼˜åŒ–åŠ›å¯¼å‘æ¨¡æ‹Ÿï¼Œæå‡äº¤äº’æµç•…åº¦
- âœ… **è§†è§‰åé¦ˆ**: å¢å¼ºæ‹–æ‹½è¿‡ç¨‹ä¸­çš„è§†è§‰æç¤ºå’ŒåŠ¨ç”»æ•ˆæœ

### v2.0.0
- âœ… **æ¨¡å—åŒ–é‡æ„**: å®Œå…¨é‡æ„ä»£ç æ¶æ„ï¼Œåˆ†ç¦»CSSå’ŒJSæ–‡ä»¶
- âœ… **Markdownæ”¯æŒ**: å®Œæ•´çš„Markdownå’ŒLaTeXæ•°å­¦å…¬å¼æ¸²æŸ“
- âœ… **ç±»Visuwordsæ•ˆæœ**: å®ç°ç±»ä¼¼Visuwordsçš„åŠ¨æ€å›¾è¡¨äº¤äº’
- âœ… **æµ®åŠ¨è¾“å…¥æ¡†**: ç‚¹å‡»èŠ‚ç‚¹æ˜¾ç¤ºå°±è¿‘æµ®åŠ¨è¾“å…¥æ¡†
- âœ… **èŠ‚ç‚¹å±‚çº§**: æ™ºèƒ½æ¦‚å¿µæå–å’Œå±‚çº§å…³ç³»å»ºç«‹

### v1.0.0
- âœ… **åŸºç¡€æ¡†æ¶**: å·¦å³åˆ†æ å¸ƒå±€ï¼ŒAIå¯¹è¯+åŠ¨æ€å›¾è¡¨
- âœ… **DeepSeeké›†æˆ**: æµå¼APIè°ƒç”¨å’Œå®æ—¶æ¶ˆæ¯æ˜¾ç¤º
- âœ… **å¯¹è¯ç®¡ç†**: å¤šå¯¹è¯å†å²ä¿å­˜å’Œåˆ‡æ¢
- âœ… **ä¸ªäººèµ„æ–™**: ç”¨æˆ·ä¿¡æ¯å’Œå¤´åƒè‡ªå®šä¹‰

## ğŸ”® æœªæ¥æ‰©å±•

### è®¡åˆ’åŠŸèƒ½
- [ ] å¤šè¯­è¨€æ”¯æŒ (i18n)
- [ ] ä¸»é¢˜åˆ‡æ¢ (æ˜æš—æ¨¡å¼)
- [ ] å›¾è¡¨å¯¼å‡º (PNG/SVG)
- [ ] å¯¹è¯åˆ†äº«åŠŸèƒ½
- [ ] æ’ä»¶ç³»ç»Ÿæ¶æ„
- [ ] ç¦»çº¿æ¨¡å¼æ”¯æŒ

### æŠ€æœ¯å‡çº§
- [ ] TypeScripté‡æ„
- [ ] Web Workersä¼˜åŒ–
- [ ] PWAæ¸è¿›å¼åº”ç”¨
- [ ] WebAssemblyé›†æˆ

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼è¯·éµå¾ªä»¥ä¸‹è§„èŒƒï¼š
1. Forké¡¹ç›®åˆ°ä½ çš„GitHub
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»ºPull Request

---

**è”ç³»æ–¹å¼**: [GitHub Issues](https://github.com/your-repo/issues)
**æ–‡æ¡£æ›´æ–°**: 2024å¹´æœ€æ–°ç‰ˆæœ¬ 